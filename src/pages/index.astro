---
import { getCollection } from "astro:content";
import HomePagination from "@components/HomePagination.astro";
import Base from "@layouts/Base.astro";
import Posts from "@layouts/Posts.astro";

const getAllPosts = await getCollection("blog") || []

const posts = getAllPosts.sort((a, b) => {
  return b.data.pubDate.valueOf() - a.data.pubDate.valueOf()
});
---

<Base>
  <Posts posts={posts} />
  {posts.length > 0 && <HomePagination />}
</Base>
