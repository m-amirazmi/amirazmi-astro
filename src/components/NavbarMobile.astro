---
import Text from "./Text.astro";
---

<nav class="navbar-mobile">
  <div class="navbar-mobile-container">
    <Text tag="a" href="/" size="lg" class="navbar-mobile-brand">AA.DEV</Text>

    <div class="navbar-mobile-hamburger">
      <Text tag="span" size="md">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          height="1em"
          viewBox="0 0 448 512"
        >
          <path
            d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"
          ></path></svg
        >
      </Text>
    </div>
  </div>
  <div class="navbar-mobile-menulist">
    <div class="navbar-mobile-menulist-container">
      <div class="navbar-mobile-menulist-links">
        <Text tag="a" weight="semibold" size="xl" href="/">Home</Text>
        <Text tag="a" weight="semibold" size="xl" href="/projects">
          Projects
        </Text>
        <Text tag="a" weight="semibold" size="xl" href="/blog">Blog</Text>
        <Text tag="a" weight="semibold" size="xl" href="/contact">Contact</Text>
      </div>
      <Text size="xl" weight="semibold" class="navbar-mobile-menulist-close">
        Close
      </Text>
    </div>
  </div>
</nav>

<script>
  const menulistEl = document.querySelector(".navbar-mobile-menulist");
  const openMenuEl = document.querySelector(".navbar-mobile-hamburger");
  const menuCloseEl = document.querySelector(".navbar-mobile-menulist-close");
  const slideInClass = "navbar-mobile-menulist-slidein";
  const slideOutClass = "navbar-mobile-menulist-slideout";

  function toggleMenu() {
    const hasSlideIn = menulistEl.classList.contains(slideInClass);

    if (!hasSlideIn) {
      menulistEl.classList.add(slideInClass);
      menulistEl.classList.remove(slideOutClass);
    } else {
      menulistEl.classList.remove(slideInClass);
      menulistEl.classList.add(slideOutClass);
    }
  }

  openMenuEl.addEventListener("click", toggleMenu);
  menuCloseEl.addEventListener("click", toggleMenu);
</script>
